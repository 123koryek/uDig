<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="../book.css" type="text/css" />
        <title>Users Guide : Introduction to the Spatial Toolbox</title>
    </head>
    <body BGCOLOR="#FFFFFF">
       <!-- Users Guide : Introduction to the Spatial Toolbox -->
       <h3>Introduction to the Spatial Toolbox</h3>
       <p>The Spatial Toolbox View gives the possibility to execute tools from loaded libraries on resources visualized in uDig.</p>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1287565125501 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1287565125501 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1287565125501 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1287565125501'>
<ul>
    <li><a href='#IntroductiontotheSpatialToolbox-BeforeyouStart'>Before you Start</a></li>
<ul>
    <li><a href='#IntroductiontotheSpatialToolbox-DownloadtheSpearfishexampledata'>Download the Spearfish example data</a></li>
    <li><a href='#IntroductiontotheSpatialToolbox-TheSpatialtoolboxView'>The Spatial toolbox View</a></li>
</ul>
    <li><a href='#IntroductiontotheSpatialToolbox-InstallingJGrasstools'>Installing JGrasstools</a></li>
    <li><a href='#IntroductiontotheSpatialToolbox-Processing'>Processing</a></li>
<ul>
    <li><a href='#IntroductiontotheSpatialToolbox-GeneratingAspectofanElevationModel'>Generating Aspect of an Elevation Model</a></li>
</ul>
    <li><a href='#IntroductiontotheSpatialToolbox-ThingstoTry'>Things to Try</a></li>
</ul></div>

  <img src="http://udig.refractions.net/image/EN/ngrelr.gif">

<p><a href="Spatial Toolbox View.html" title="Spatial Toolbox View">Spatial Toolbox View</a></p>

<p>This is how it looks like when it is enabled:</p>

<p><img src="download/attachments/13239145/omsbox.png" align="absmiddle" border="0"/></p>

<h1><a name="IntroductiontotheSpatialToolbox-BeforeyouStart"></a>Before you Start</h1>

<h2><a name="IntroductiontotheSpatialToolbox-DownloadtheSpearfishexampledata"></a>Download the Spearfish example data</h2>

<p>In the example we will use a raster elevation model of the Spearfish region. You can download it <a href="http://jgrasstools.googlecode.com/files/spearfish_elevation.zip">here</a></p>

<ol>
	<li>Download the following file (you can right click and choose <b>Save as</b> in most browsers)
	<ul>
		<li><a href="http://jgrasstools.googlecode.com/files/spearfish_elevation.zip">spearfish_elevation.zip</a></li>
	</ul>
	</li>
	<li>Unzip it to your data directory or desktop</li>
	<li>This download contains:
	<ul>
		<li>elevation.asc</li>
		<li>elevation.prj</li>
	</ul>
	</li>
	<li>Try to drag it into uDig and see if it look like the following:</li>
</ol>


<p><img src="download/attachments/13239145/elevation.png" align="absmiddle" border="0"/></p>

<h2><a name="IntroductiontotheSpatialToolbox-TheSpatialtoolboxView"></a>The Spatial toolbox View</h2>

<p>Once your raster is loaded you are ready to start to configure the spatial toolbox. First let's open it up:</p>

<p>1 Find it under Window-&gt;Show View-&gt;Other<br/>
<img src="download/attachments/13239145/spatial_toolbox_01.png" align="absmiddle" border="0"/><br/>
2 And then choose the Spatial toolbox:<br/>
<img src="download/attachments/13239145/spatial_toolbox_02.png" align="absmiddle" border="0"/><br/>
3 It will probably open up a bit too small, so best thing is to detach it and use it in a separate window anyways.<br/>
4 To do so right click on the view's bar:<br/>
<img src="download/attachments/13239145/spatial_toolbox_03.png" align="absmiddle" border="0"/><br/>
5 And voila'!<br/>
<img src="download/attachments/13239145/spatial_toolbox_04.png" align="absmiddle" border="0"/></p>

<h1><a name="IntroductiontotheSpatialToolbox-InstallingJGrasstools"></a>Installing JGrasstools</h1>

<p>The spatial toolbox is able to load and generate graphical user interfaces and link together models that are developed as OMS3 services.</p>

<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>OMS3</b><br />
<p>Object Modeling Services 3 is a standard used for component development employed by the jgrass project. If you are interested in the details please have a look here:</p>
<ul>
	<li><a href="http://code.google.com/p/jgrasstools/wiki/OMS3">OMS3 jgrass page</a></li>
	<li><a href="http://www.javaforge.com/project/oms">oms javaforge page</a>.</li>
</ul>
</td></tr></table></div>

<p>To load the modules:</p>
<ol>
	<li>Currently one library of spatial tools implemented using OMS3 is the <a href="http://www.jgrasstools.org/">jgrasstools</a> library.</li>
	<li>Therefore it is possible to jump on the jgrass website to get a processing library to use it in uDig.</li>
	<li>At the time of writing the jgrass 0.7.1 library is packaged and available for use</li>
	<li>To start to have some fun we need to download two jar files:
	<ul>
		<li>the <a href="http://jgrasstools.googlecode.com/files/jgt-jgrassgears-0.7.2.jar">generic GIS modules library</a></li>
		<li>the <a href="http://jgrasstools.googlecode.com/files/jgt-hortonmachine-0.7.2.jar">horton machine</a> for hydro-geomophologic analyses</li>
	</ul>
	</li>
	<li>You can download these two files anywhere; for today we will be placing them in a "jgrass" folder in your home directory.</li>
	<li>Create a "jgrass" folder in your home directory</li>
	<li>Download the above two files and place them in the jgrass folder</li>
	<li>Then push the last icon of the toolbar:<br/>
<img src="download/attachments/13239145/spatial_toolbox_05.png" align="absmiddle" border="0"/></li>
	<li>Which will open the settings dialog:<br/>
<img src="download/attachments/13239145/spatial_toolbox_06.png" align="absmiddle" border="0"/></li>
	<li>The settings dialog allows you to load the libraries by using the &#43; button.</li>
	<li>Load the two libraries that you downloaded.</li>
	<li>It should, apart of the different paths of the files, like like the following:<br/>
<img src="download/attachments/13239145/spatial_toolbox_07.png" align="absmiddle" border="0"/><br/>
#Once you push the ok button, uDig will search for modules inside the library<br/>
<img src="download/attachments/13239145/spatial_toolbox_08.png" align="absmiddle" border="0"/></li>
	<li>Congratulations; the toolbox should now display the modules that were found<br/>
<img src="download/attachments/13239145/spatial_toolbox_09.png" align="absmiddle" border="0"/></li>
</ol>


<h1><a name="IntroductiontotheSpatialToolbox-Processing"></a>Processing</h1>

<p>The jgrass project provides a host of valuable processes you can try out; for now we will start with a simple example.</p>

<h2><a name="IntroductiontotheSpatialToolbox-GeneratingAspectofanElevationModel"></a>Generating Aspect of an Elevation Model</h2>

<p>To try out spatial processing we will simply create a map of aspect using the elevation model you already loaded from the sample dataset.</p>

<ol>
	<li>Type in the search box the letters: <b>asp</b></li>
	<li>The "Aspect" module should appear in the list:<br/>
 <img src="download/attachments/13239145/spatial_toolbox_10.png" align="absmiddle" border="0"/></li>
	<li>Please select the Aspect module so we can describe the tabs used to control a service.</li>
	<li>inputs tab:<br/>
<img src="download/attachments/13239145/spatial_toolbox_11.png" align="absmiddle" border="0"/>
	<ul>
		<li>outputs tab:<br/>
<img src="download/attachments/13239145/spatial_toolbox_12.png" align="absmiddle" border="0"/></li>
		<li>documentation tab:<br/>
<img src="download/attachments/13239145/spatial_toolbox_13.png" align="absmiddle" border="0"/></li>
	</ul>
	</li>
	<li>We will now set up the Aspect service to work with our sample digital elevation model.</li>
	<li>To define the input raster to process, simply push the input data button.
	<ul>
		<li>A raster reader dialog will open.</li>
		<li>You could browse for the raster, but the simplest thing is to drag the raster map from the udig layer view into the textfield and let udig do the rest.<br/>
<img src="download/attachments/13239145/spatial_toolbox_14.png" align="absmiddle" border="0"/></li>
	</ul>
	</li>
	<li>Output data
	<ul>
		<li>In the case of the output data, we can't drag an existing map, so we will have to use the browse button, which will open in the same folder of the last inserted map.</li>
		<li>There we simply write <b>aspect.asc</b> to create an esri ascii also as output \ (other formats supported are tiffs and grass binary rasters)<br/>
<img src="download/attachments/13239145/spatial_toolbox_15.png" align="absmiddle" border="0"/></li>
	</ul>
	</li>
	<li>Configure
	<ul>
		<li>Before we run the module there are a couple of configuration options that are useful to control.</li>
		<li>The most important is the amount of memory that we permit the module to use:<br/>
<img src="download/attachments/13239145/spatial_toolbox_16.png" align="absmiddle" border="0"/></li>
	</ul>
	</li>
	<li>In the above example the local machine has 8 gigabytes of RAM, allowing us to easily allocate 2000 megabytes for for the work</li>
	<li>Execute the module
	<ul>
		<li>To execute the module please click the <b>run</b> button in the view toolbar<br/>
<img src="download/attachments/13239145/spatial_toolbox_17.png" align="absmiddle" border="0"/></li>
		<li>The module will execute opening a console window that gives feedback on what is going on.</li>
	</ul>
	</li>
	<li>Once the process is done, the resulting map is loaded in the map window:<br/>
<img src="download/attachments/13239145/spatial_toolbox_18.png" align="absmiddle" border="0"/></li>
</ol>


<h1><a name="IntroductiontotheSpatialToolbox-ThingstoTry"></a>Things to Try</h1>

<p>Congratulations on finishing this tutorials; here are a couple of things to try:</p>
<ul>
	<li>Review the documentation of some of the other services made available</li>
	<li>Check out the jgrass website for additional information about the project</li>
</ul>


<!--<small>(c) Copyright (c) 2004-2012 Refractions Research Inc. and others.</small>-->
    </body>
</html>
